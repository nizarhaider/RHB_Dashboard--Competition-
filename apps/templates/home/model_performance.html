<!DOCTYPE html>
<html lang="en">
<head>

	<meta http-equiv="X-UA-Compatible" content="IE=edge" />

	<title>
        RHB - Dashboard | SUS
	</title>

	<meta content='width=device-width, initial-scale=1.0, shrink-to-fit=no' name='viewport' />
	<link rel="icon" href="/static/assets/img/icon.ico" type="image/x-icon"/>

	<!-- Fonts and icons -->
	<script src="/static/assets/js/plugin/webfont/webfont.min.js"></script>
	<script>
		WebFont.load({
			google: {"families":["Lato:300,400,700,900"]},
			custom: {"families":["Flaticon", "Font Awesome 5 Solid", "Font Awesome 5 Regular", "Font Awesome 5 Brands", "simple-line-icons"],
			urls: ['/static/assets/css/fonts.min.css']},
			active: function() {
				sessionStorage.fonts = true;
			}
		});
	</script>

	<!-- CSS Files -->
	<link rel="stylesheet" href="/static/assets/css/bootstrap.min.css">
	<link rel="stylesheet" href="/static/assets/css/atlantis.min.css">
	<link rel="stylesheet" href="/static/assets/css/score.css">
	<link rel="stylesheet" href="/static/assets/css/mk_charts.css" />
	<script src="/static/assets/js/mk_charts.js"></script>



</head>
<body>

	<div class="wrapper compact-wrapper">

		{% include 'includes/navigation.html' %}

		{% include 'includes/sidebar.html' %}

		<div class="main-panel">
			<div class="content">
				<div class="panel-header bg-primary-gradient">
					<div class="page-inner py-5">
						<div class="d-flex align-items-left align-items-md-center flex-column flex-md-row">
							<div>
								<h2 class="text-white pb-2 fw-bold">Dashboard</h2>
								<h5 class="text-white op-7 mb-2">Model Performance</h5>
							</div>
						</div>
					</div>
				</div>
				<div class="page-inner mt--5">
					<div class="row">
						<div class="col-6 col-sm-4 col-lg-2">
							<div class="card">
								<div class="card-body p-3 text-center">
									<div class="text-right text-success">
										1.9%
										<i class="fa fa-chevron-up"></i>
									</div>
									<div class="h1 m-0">88%</div>
									<div class="text-muted mb-3">Accuracy</div>
								</div>
							</div>
						</div>
						<div class="col-6 col-sm-4 col-lg-2">
							<div class="card">
								<div class="card-body p-3 text-center">
									<div class="text-right text-success">
										11%
										<i class="fa fa-chevron-up"></i>
									</div>
									<div class="h1 m-0">27.5k</div>
									<div class="text-muted mb-3">Loans Paid Back</div>
								</div>
							</div>
						</div>
						<div class="col-6 col-sm-4 col-lg-2">
							<div class="card">
								<div class="card-body p-3 text-center">
									<div class="text-right text-danger">
										-25%
										<i class="fa fa-chevron-down"></i>
									</div>
									<div class="h1 m-0">0.3K</div>
									<div class="text-muted mb-3">Loans Defaulted</div>
								</div>
							</div>
						</div>
						<div class="col-6 col-sm-4 col-lg-2">
							<div class="card">
								<div class="card-body p-3 text-center">
									<div class="text-right text-danger">
										-1%
										<i class="fa fa-chevron-down"></i>
									</div>
									<div class="h1 m-0">621</div>
									<div class="text-muted mb-3">Features</div>
								</div>
							</div>
						</div>
					</div>
					<div class="card">
						<div class="card-header">
							<div class="card-title">Feature Importance</div>
						</div>
						<div class="card-body">
							<div class="chart-container"><div class="chartjs-size-monitor" style="position: absolute; inset: 0px; overflow: hidden; pointer-events: none; visibility: hidden; z-index: -1;"><div class="chartjs-size-monitor-expand" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="chartjs-size-monitor-shrink" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div></div>
								<canvas id="barChart" width="463" height="300" style="display: block; width: 463px; height: 300px;" class="chartjs-render-monitor"></canvas>
							</div>
						</div>
					</div>
					<div class="card">
						<div class="card-header">
							<div class="card-title">Model Performance</div>
						</div>
						<div class="card-body">
							<div class="chart-container">
								<canvas id="htmlLegendsChart"></canvas>
							</div>
							<div id="myChartLegend"></div>
						</div>
					</div>
					<div class="col-md-6">
							<div class="card">
								<div class="card-header">
									<div class="card-title">Our Score Explained</div>
								</div>
								<div class="card-body">
									<ol class="activity-feed">
										<li class="feed-item feed-item-success">
											<time class="date" datetime="9-25">>700</time>
											<span class="text">Low Risk</span>
										</li>
										<li class="feed-item feed-item-warning">
											<time class="date" datetime="9-24">501 - 699</time>
											<span class="text">Medium Risk</span>
										</li>
										<li class="feed-item feed-item-danger">
											<time class="date" datetime="9-23"><500</time>
											<span class="text">High Risk</span>
										</li>
									</ol>
								</div>
							</div>
						</div>
				</div>
			</div>
		</div>
	</div>

	{% include 'includes/scripts.html' %}

	<script src="/static/assets/js/setting-demo2.js"></script>
	<script>
		var barChart = document.getElementById('barChart').getContext('2d'),
		htmlLegendsChart = document.getElementById('htmlLegendsChart').getContext('2d');

		var myBarChart = new Chart(barChart, {
			type: 'bar',
			data: {
				labels: ["Loan Amount", "Outstandings", "State", "Rate of Inquiries", "Originated Date"],
				datasets : [{
					label: "Features",
					backgroundColor: 'rgb(23, 125, 255)',
					borderColor: 'rgb(23, 125, 255)',
					data: [0.3, 0.2, 0.61, 0.5, 0.4],
				}],
			},
			options: {
				responsive: true,
				maintainAspectRatio: false,
				scales: {
					yAxes: [{
						ticks: {
							beginAtZero:true
						}
					}]
				},
			}
		});


		// Chart with HTML Legends

		var gradientStroke = htmlLegendsChart.createLinearGradient(500, 0, 100, 0);
		gradientStroke.addColorStop(0, '#177dff');
		gradientStroke.addColorStop(1, '#80b6f4');

		var gradientFill = htmlLegendsChart.createLinearGradient(0, 0, 0, 500);
		gradientFill.addColorStop(0, "rgba(23, 125, 255, 0.7)");
		gradientFill.addColorStop(1, "rgba(128, 182, 244, 0.3)");

		var gradientStroke2 = htmlLegendsChart.createLinearGradient(500, 0, 100, 0);
		gradientStroke2.addColorStop(0, '#f3545d');
		gradientStroke2.addColorStop(1, '#ff8990');

		var gradientFill2 = htmlLegendsChart.createLinearGradient(0, 0, 0, 500);
		gradientFill2.addColorStop(0, "rgba(243, 84, 93, 0.7)");
		gradientFill2.addColorStop(1, "rgba(255, 137, 144, 0.3)");

		var gradientStroke3 = htmlLegendsChart.createLinearGradient(500, 0, 100, 0);
		gradientStroke3.addColorStop(0, '#fdaf4b');
		gradientStroke3.addColorStop(1, '#ffc478');

		var gradientFill3 = htmlLegendsChart.createLinearGradient(0, 0, 0, 1000);
		gradientFill3.addColorStop(0, "rgba(253, 175, 75, 0.7)");
		gradientFill3.addColorStop(1, "rgba(255, 196, 120, 0.3)");

		var myHtmlLegendsChart = new Chart(htmlLegendsChart, {
			type: 'line',
			data: {
				labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
				datasets: [ {
					label: "% of Loans Defaulted",
					borderColor: gradientStroke2,
					pointBackgroundColor: gradientStroke2,
					pointRadius: 0,
					backgroundColor: gradientFill2,
					legendColor: '#f3545d',
					fill: true,
					borderWidth: 1,
					data: [20, 21, 23, 20, 18, 17, 16, 14, 12, 10, 9, 8]
				}, {
					label: "%  of Loans Approved",
					borderColor: gradientStroke,
					pointBackgroundColor: gradientStroke,
					pointRadius: 0,
					backgroundColor: gradientFill,
					legendColor: '#fdaf4b',
					fill: true,
					borderWidth: 1,
					data: [55, 58, 60, 80, 85,92, 100, 110, 115, 130, 140, 146]
				}, {
					label: "Accuracy",
					borderColor: gradientStroke3,
					pointBackgroundColor: gradientStroke3,
					pointRadius: 0,
					backgroundColor: gradientFill3,
					legendColor: '#177dff',
					fill: true,
					borderWidth: 1,
					data: [55, 58, 60, 80, 87,99, 120, 138, 155, 167, 178, 188]
				}]
			},
			options : {
				responsive: true,
				maintainAspectRatio: false,
				legend: {
					display: false
				},
				tooltips: {
					bodySpacing: 4,
					mode:"nearest",
					intersect: 0,
					position:"nearest",
					xPadding:10,
					yPadding:10,
					caretPadding:10
				},
				layout:{
					padding:{left:15,right:15,top:15,bottom:15}
				},
				scales: {
					yAxes: [{
						ticks: {
							fontColor: "rgba(0,0,0,0.5)",
							fontStyle: "500",
							beginAtZero: false,
							maxTicksLimit: 5,
							padding: 20
						},
						gridLines: {
							drawTicks: false,
							display: false
						}
					}],
					xAxes: [{
						gridLines: {
							zeroLineColor: "transparent"
						},
						ticks: {
							padding: 20,
							fontColor: "rgba(0,0,0,0.5)",
							fontStyle: "500"
						}
					}]
				},
				legendCallback: function(chart) {
					var text = [];
					text.push('<ul class="' + chart.id + '-legend html-legend">');
					for (var i = 0; i < chart.data.datasets.length; i++) {
						text.push('<li><span style="background-color:' + chart.data.datasets[i].legendColor + '"></span>');
						if (chart.data.datasets[i].label) {
							text.push(chart.data.datasets[i].label);
						}
						text.push('</li>');
					}
					text.push('</ul>');
					return text.join('');
				}
			}
		});

		var myLegendContainer = document.getElementById("myChartLegend");

		// generate HTML legend
		myLegendContainer.innerHTML = myHtmlLegendsChart.generateLegend();

		// bind onClick event to all LI-tags of the legend
		var legendItems = myLegendContainer.getElementsByTagName('li');
		for (var i = 0; i < legendItems.length; i += 1) {
			legendItems[i].addEventListener("click", legendClickCallback, false);
		}


	</script>
</body>
</html>